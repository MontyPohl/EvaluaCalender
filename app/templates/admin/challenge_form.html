{% extends "base.html" %}
{% block title %}{{ 'Editar' if challenge else 'Nuevo' }} Challenge{% endblock %}
{% block content %}
<div class="main-container" style="max-width:640px;">
  <div class="page-header flex items-center gap-2">
    <a href="{{ url_for('admin.challenges') }}" class="btn btn-secondary btn-sm"><i class="fa fa-arrow-left"></i></a>
    <h1 class="page-title" style="font-size:1.5rem;">
      {{ 'Editar challenge' if challenge else 'Nuevo challenge' }}
    </h1>
  </div>

  {% if error %}
    <div class="alert alert-danger"><i class="fa fa-triangle-exclamation"></i> {{ error }}</div>
  {% endif %}

  <div class="card" style="padding:2rem;">
    <form method="POST">
      <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
      <div class="form-group">
        <label class="form-label">Nombre del challenge *</label>
        <input type="text" name="nombre" class="form-control"
               value="{{ challenge.nombre if challenge else '' }}"
               placeholder="Ej: Challenge Python Básico" required autofocus>
      </div>
      <div class="form-group">
        <label class="form-label">Descripción</label>
        <textarea name="descripcion" class="form-control"
                  placeholder="Describe el challenge, sus objetivos, temas…">{{ challenge.descripcion if challenge else '' }}</textarea>
      </div>
      <div style="display:flex; gap:1rem;">
        <button type="submit" class="btn btn-primary">
          <i class="fa fa-save"></i> {{ 'Actualizar' if challenge else 'Crear challenge' }}
        </button>
        <a href="{{ url_for('admin.challenges') }}" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>
  </div>
</div>
{% endblock %}
